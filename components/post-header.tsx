import type { Author } from '../lib/types';
import PostTitle from './post-title';

interface PostHeaderProps {
  title?: string;
  date?: string;
  author?: Author;
  path: string;
}

export default function PostHeader({
  title,
  date,
  author,
  path,
}: PostHeaderProps) {
  const authorName = author?.name ?? '';

  return (
    <>
      <PostTitle>{title}</PostTitle>
      <div className="w-full flex justify-center text-sm text-gray-500 dark:text-gray-300">
        <div className="flex items-center">
          <svg
            className="w-4 h-4 fill-current"
            viewBox="0 0 1024 1024"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M938.667 426.667H85.333A42.667 42.667 0 0 1 42.667 384V256a128 128 0 0 1 128-128h682.666a128 128 0 0 1 128 128v128a42.667 42.667 0 0 1-42.666 42.667zM128 341.333h768V256a42.667 42.667 0 0 0-42.667-42.667H170.667A42.667 42.667 0 0 0 128 256z" />
            <path d="M853.333 981.333H170.667a128 128 0 0 1-128-128V384a42.667 42.667 0 0 1 42.666-42.667h853.334A42.667 42.667 0 0 1 981.333 384v469.333a128 128 0 0 1-128 128zM128 426.667v426.666A42.667 42.667 0 0 0 170.667 896h682.666A42.667 42.667 0 0 0 896 853.333V426.667zm170.667-128A42.667 42.667 0 0 1 256 256V85.333a42.667 42.667 0 0 1 85.333 0V256a42.667 42.667 0 0 1-42.666 42.667zm426.666 0A42.667 42.667 0 0 1 682.667 256V85.333a42.667 42.667 0 0 1 85.333 0V256a42.667 42.667 0 0 1-42.667 42.667z" />
            <path d="M255.99999999999997 554.667a42.667 42.667 0 1 0 85.333 0 42.667 42.667 0 1 0-85.333 0zM469.33299999999997 554.667a42.667 42.667 0 1 0 85.334 0 42.667 42.667 0 1 0-85.334 0zM682.6669999999999 554.667a42.667 42.667 0 1 0 85.333 0 42.667 42.667 0 1 0-85.333 0zM255.99999999999997 768a42.667 42.667 0 1 0 85.333 0A42.667 42.667 0 1 0 256 768zM469.33299999999997 768a42.667 42.667 0 1 0 85.334 0 42.667 42.667 0 1 0-85.334 0zM682.6669999999999 768A42.667 42.667 0 1 0 768 768a42.667 42.667 0 1 0-85.333 0z" />
          </svg>
          <span className="ml-2">{date}</span>
        </div>
        <div className="flex items-center ml-2.5">
          <svg
            className="w-4 h-4 fill-current"
            viewBox="0 0 1024 1024"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M789.504 890.368H319.488c-18.432 0-33.28 14.848-33.28 33.28s14.848 33.28 33.28 33.28h470.016c18.432 0 33.28-14.848 33.28-33.28s-14.848-33.28-33.28-33.28zM731.648 392.192c68.096-118.272 79.36-283.136 79.872-289.792 1.024-12.288-5.632-24.576-16.384-30.72-10.752-6.144-24.064-6.144-34.816.512-24.576 15.872-241.152 156.16-287.744 235.52C404.48 422.4 237.056 728.576 235.52 731.648c-1.536 2.56-2.048 5.12-3.072 7.68L140.8 898.048c-9.216 15.872-3.584 36.352 12.288 45.568 5.12 3.072 10.752 4.608 16.384 4.608 11.264 0 22.528-6.144 28.672-16.896l93.696-161.792c58.368-39.936 371.2-258.048 439.808-377.344zm-201.728-51.2c23.04-39.424 122.368-115.2 206.336-173.056-9.216 54.272-27.648 130.56-61.952 190.976-39.936 68.608-190.976 189.952-310.272 278.016 54.272-98.816 126.464-229.376 165.888-295.936z" />
          </svg>
          <span className="ml-2">{authorName}</span>
        </div>
        <div className="flex items-center ml-2.5">
          <svg
            className="w-4 h-4 fill-current"
            viewBox="0 0 1024 1024"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M46.592 529.899a42.667 42.667 0 0 1 0-35.798C131.093 311.275 310.955 192 512 192s380.907 119.253 465.408 302.101a42.667 42.667 0 0 1 0 35.798C892.907 712.725 713.045 832 512 832S131.093 712.747 46.592 529.899zM512 746.667c160.597 0 305.28-91.734 379.179-234.667C817.3 369.067 672.597 277.333 512 277.333c-160.597 0-305.28 91.734-379.179 234.667C206.7 654.933 351.403 746.667 512 746.667zM514.73 320a42.667 42.667 0 0 1 41.217 51.157 64 64 0 0 0 86.613 72.235 42.667 42.667 0 0 1 57.813 31.339A192 192 0 1 1 514.731 320zM405.334 512a106.667 106.667 0 0 0 211.2 21.333 149.376 149.376 0 0 1-144.384-120.32A106.71 106.71 0 0 0 405.333 512z" />
          </svg>
          <span
            id={path}
            className="leancloud-visitors ml-2"
            data-flag-title={title}
          >
            <i className="leancloud-visitors-count"></i>
          </span>
        </div>
      </div>
    </>
  );
}
